(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3459],{87237:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(64932)}])},64932:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ee}});var r,o,i=t(57611),a=t(67597),l=t(61395),c=t(15129),s=t(67385),u=t(95165),d=t.n(u),f=function(e){var n=e.verificationCode,t=e.email,r=(0,l.Z)().t;return(0,i.jsxs)("div",{className:d().emailSentContainer,children:[(0,i.jsx)("div",{className:d().title,children:r("login:awaiting-confirmation")}),(0,i.jsxs)("div",{className:d().paragraphContainer,children:[(0,i.jsx)("p",{children:(0,i.jsx)(s.Z,{i18nKey:"common:email-verification.email-sent",values:{email:t},components:{strong:(0,i.jsx)("strong",{className:d().emailContainer})}})}),(0,i.jsx)("p",{children:r("login:verify-code")})]}),(0,i.jsx)("p",{className:d().verificationCode,children:n})]})},h=t(69580),p=t(88901),v=t.n(p),m=t(3962),g=t(31449),x=t(85754);function j(){return j=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},j.apply(this,arguments)}var w=function(e){return a.createElement("svg",j({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=a.createElement("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),o||(o=a.createElement("path",{d:"m22 6-10 7L2 6",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))},E=t(21899),b=t(58187),k=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,C=t(72151),y=t(58572),Z=t(58182);function O(e,n,t,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void t(s)}l.done?n(c):Promise.resolve(c).then(r,o)}var S,N="email",R=function(){var e,n=(e=v().mark((function e(n){var t,r,o,i;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch((0,b.Si)(),{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:new URLSearchParams({destination:n}).toString()});case 2:return t=e.sent,e.next=5,t.json();case 5:if(r=e.sent,o=r.success,i=r.code,!0!==o){e.next=9;break}return e.abrupt("return",i);case 9:throw new Error(r.message);case 10:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){O(i,r,o,a,l,"next",e)}function l(e){O(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}(),_=function(e){var n=e.back,t=e.onSubmit,r=(0,l.Z)("common").t;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.Z,{onSubmit:t,formFields:[{field:N,type:Z.E.Text,label:r("form.email"),rules:[{type:y.S.Required,value:!0,errorMessage:(0,m.Z)(C.Z.RequiredField,N,r)},{type:y.S.Regex,value:k.source,errorMessage:(0,m.Z)(C.Z.InvalidEmail,N,r)}]}],actionProps:{prefix:(0,i.jsx)(w,{}),className:d().loginButton,type:x.L$.Success},actionText:r("login:continue-email")}),(0,i.jsx)(x.ZP,{onClick:n,htmlType:"submit",className:d().loginButton,variant:x.Wu.Ghost,type:x.L$.Secondary,prefix:(0,i.jsx)(E.Z,{}),children:r("login:other-options")})]})},B=t(9134),F=t.n(B);function P(){return P=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},P.apply(this,arguments)}var A,M=function(e){return a.createElement("svg",P({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),S||(S=a.createElement("path",{fill:"currentColor",d:"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"})))};function T(){return T=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},T.apply(this,arguments)}var L,G,H,V,z=function(e){return a.createElement("svg",T({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),A||(A=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 12.067C0 18.033 4.333 22.994 10 24v-8.667H7V12h3V9.333c0-3 1.933-4.666 4.667-4.666.866 0 1.8.133 2.666.266V8H15.8c-1.467 0-1.8.733-1.8 1.667V12h3.2l-.533 3.333H14V24c5.667-1.006 10-5.966 10-11.933C24 5.43 18.6 0 12 0S0 5.43 0 12.067Z",fill:"currentColor"})))};function W(){return W=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},W.apply(this,arguments)}var Y,$=function(e){return a.createElement("svg",W({width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),L||(L=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.64 9.205c0-.639-.057-1.252-.164-1.841H9v3.481h4.844a4.14 4.14 0 0 1-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615Z",fill:"#4285F4"})),G||(G=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 18c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.957v2.332A8.997 8.997 0 0 0 9 18Z",fill:"#34A853"})),H||(H=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.964 10.71A5.41 5.41 0 0 1 3.682 9c0-.593.102-1.17.282-1.71V4.958H.957A8.996 8.996 0 0 0 0 9c0 1.452.348 2.827.957 4.042l3.007-2.332Z",fill:"#FBBC05"})),V||(V=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.463.891 11.426 0 9 0A8.997 8.997 0 0 0 .957 4.958L3.964 7.29C4.672 5.163 6.656 3.58 9 3.58Z",fill:"#EA4335"})))},q=t(60178);!function(e){e.Facebook="Facebook",e.Apple="Apple",e.Google="Google",e.Email="Email"}(Y||(Y={}));var U,X=Y,I=function(){var e=(0,l.Z)("login").t,n=function(e){(0,q.MY)("".concat(e,"_login"))};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(x.ZP,{prefix:(0,i.jsx)($,{}),className:F()(d().loginButton,d().googleButton),href:(0,b.Ej)(),shouldFlipOnRTL:!1,onClick:function(){n(X.Google)},children:e("continue-google")}),(0,i.jsx)(x.ZP,{prefix:(0,i.jsx)(z,{}),className:F()(d().loginButton,d().facebookButton),href:(0,b.ZF)(),shouldFlipOnRTL:!1,onClick:function(){n(X.Facebook)},children:e("continue-facebook")}),(0,i.jsx)(x.ZP,{href:(0,b.Z2)(),prefix:(0,i.jsx)(M,{}),className:d().loginButton,shouldFlipOnRTL:!1,onClick:function(){n(X.Apple)},children:e("continue-apple")})]})};!function(e){e.Social="social",e.Email="email"}(U||(U={}));var K,D=function(){var e=(0,a.useState)(U.Social),n=e[0],t=e[1],r=(0,l.Z)().t,o=(0,a.useState)(""),c=o[0],s=o[1],u=(0,a.useState)(""),p=u[0],v=u[1],m=function(e){var n=e.email;return v(n),R(n).then(s).catch((function(){return{errors:{email:r("common:error.email-login-fail")}}}))};return c?(0,i.jsxs)("div",{className:d().outerContainer,children:[(0,i.jsx)(f,{email:p,verificationCode:c}),(0,i.jsx)(h.Z,{onResendButtonClicked:function(){m({email:p}),(0,q.MY)("resend_email")}},c)]}):(0,i.jsx)("div",{className:d().outerContainer,children:(0,i.jsxs)("div",{className:d().innerContainer,children:[(0,i.jsx)("div",{className:d().title,children:r("login:login-title")}),n===U.Email&&(0,i.jsx)(_,{back:function(){t(U.Social),(0,q.MY)("other_auth_options")},onSubmit:function(e){return(0,q.dz)("email_login"),m(e)}}),n===U.Social&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(I,{}),(0,i.jsx)(x.ZP,{onClick:function(){t(U.Email),(0,q.MY)("".concat(X.Email,"_login"))},className:d().loginButton,variant:x.Wu.Ghost,type:x.L$.Success,children:r("login:continue-email")})]})]})})},J=t(68283);!function(e){e.AuthenticationError="AuthenticationError",e.TokenExpiredError="TokenExpiredError",e.GenerateCookieError="GenerateCookieError"}(K||(K={}));var Q=K,ee=function(){var e=(0,J.useToast)(),n=(0,c.useRouter)(),t=n.query,r=n.replace,o=(0,l.Z)("login").t,s=(0,a.useCallback)((function(e){return o("login-error.".concat(e in Q?e:Q.AuthenticationError))}),[o]);return(0,a.useEffect)((function(){if(t.error){var n=s(t.error);e(n,{status:J.ToastStatus.Error}),r("/login",null,{shallow:!0})}}),[t.error,e,r,o,s]),(0,i.jsx)(D,{})}}},function(e){e.O(0,[7863,4358,9774,2888,179],(function(){return n=87237,e(e.s=n);var n}));var n=e.O();_N_E=n}]);